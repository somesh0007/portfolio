{"ast":null,"code":"import { fromEvent } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class ScrollAnimationComponent {\n  constructor(_el, cdRef) {\n    this._el = _el;\n    this.cdRef = cdRef;\n  }\n  onScroll() {\n    this.componentPosition = this._el.nativeElement.offsetTop;\n    this.scrollPosition = window.pageYOffset + window.innerHeight * 3 / 4;\n    this.checkState();\n  }\n  checkState() {\n    if (this.state = 'hide') {\n      if (this.scrollPosition >= this.componentPosition) {\n        this.state = 'show';\n        this.unsubscribe();\n      }\n    }\n  }\n  subscribe() {\n    this.subscribeScroll = fromEvent(window, 'scroll').subscribe(() => this.onScroll());\n  }\n  unsubscribe() {\n    if (this.subscribeScroll) {\n      this.subscribeScroll.unsubscribe();\n    }\n  }\n  ngAfterViewInit() {\n    this.state = 'hide';\n    this.cdRef.detectChanges();\n    this.subscribe();\n  }\n  ngOnDestroy() {\n    this.unsubscribe();\n  }\n  static #_ = this.ɵfac = function ScrollAnimationComponent_Factory(t) {\n    return new (t || ScrollAnimationComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static #_2 = this.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n    type: ScrollAnimationComponent,\n    outputs: {\n      state: \"state\"\n    }\n  });\n  static #_3 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ScrollAnimationComponent,\n    factory: ScrollAnimationComponent.ɵfac\n  });\n}","map":{"version":3,"names":["fromEvent","ScrollAnimationComponent","constructor","_el","cdRef","onScroll","componentPosition","nativeElement","offsetTop","scrollPosition","window","pageYOffset","innerHeight","checkState","state","unsubscribe","subscribe","subscribeScroll","ngAfterViewInit","detectChanges","ngOnDestroy","_","i0","ɵɵdirectiveInject","ElementRef","ChangeDetectorRef","_2","outputs","_3","factory","ɵfac"],"sources":["E:\\portfolio\\src\\app\\shared\\scroll-animation.component.ts"],"sourcesContent":["import { ElementRef, Injectable, AfterViewInit, OnDestroy, Output, ChangeDetectorRef, Directive } from '@angular/core';\r\nimport { Subscription, fromEvent } from 'rxjs';\r\n\r\n@Directive()\r\n@Injectable()\r\nexport class ScrollAnimationComponent implements AfterViewInit, OnDestroy {\r\n\r\n    constructor(private _el: ElementRef,\r\n                public cdRef: ChangeDetectorRef) { }\r\n\r\n    @Output()\r\n    state: string;\r\n\r\n    componentPosition: number;\r\n    scrollPosition: number;\r\n\r\n    subscribeScroll: Subscription;\r\n\r\n    onScroll() {\r\n        this.componentPosition = this._el.nativeElement.offsetTop;\r\n        this.scrollPosition = window.pageYOffset + ((window.innerHeight * 3) / 4);\r\n        this.checkState();\r\n    }\r\n\r\n    checkState() {\r\n        if (this.state = 'hide') {\r\n            if (this.scrollPosition >= this.componentPosition) {\r\n                this.state = 'show';\r\n                this.unsubscribe();\r\n            }\r\n        }\r\n    }\r\n\r\n    subscribe() {\r\n        this.subscribeScroll = fromEvent(window, 'scroll')\r\n            .subscribe(() => this.onScroll());\r\n    }\r\n\r\n    unsubscribe() {\r\n        if (this.subscribeScroll) {\r\n            this.subscribeScroll.unsubscribe();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {       \r\n        this.state = 'hide';\r\n        this.cdRef.detectChanges();\r\n        this.subscribe();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.unsubscribe();\r\n    }\r\n}"],"mappings":"AACA,SAAuBA,SAAS,QAAQ,MAAM;;AAI9C,OAAM,MAAOC,wBAAwB;EAEjCC,YAAoBC,GAAe,EAChBC,KAAwB;IADvB,KAAAD,GAAG,GAAHA,GAAG;IACJ,KAAAC,KAAK,GAALA,KAAK;EAAuB;EAU/CC,QAAQA,CAAA;IACJ,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACH,GAAG,CAACI,aAAa,CAACC,SAAS;IACzD,IAAI,CAACC,cAAc,GAAGC,MAAM,CAACC,WAAW,GAAKD,MAAM,CAACE,WAAW,GAAG,CAAC,GAAI,CAAE;IACzE,IAAI,CAACC,UAAU,EAAE;EACrB;EAEAA,UAAUA,CAAA;IACN,IAAI,IAAI,CAACC,KAAK,GAAG,MAAM,EAAE;MACrB,IAAI,IAAI,CAACL,cAAc,IAAI,IAAI,CAACH,iBAAiB,EAAE;QAC/C,IAAI,CAACQ,KAAK,GAAG,MAAM;QACnB,IAAI,CAACC,WAAW,EAAE;MACtB;IACJ;EACJ;EAEAC,SAASA,CAAA;IACL,IAAI,CAACC,eAAe,GAAGjB,SAAS,CAACU,MAAM,EAAE,QAAQ,CAAC,CAC7CM,SAAS,CAAC,MAAM,IAAI,CAACX,QAAQ,EAAE,CAAC;EACzC;EAEAU,WAAWA,CAAA;IACP,IAAI,IAAI,CAACE,eAAe,EAAE;MACtB,IAAI,CAACA,eAAe,CAACF,WAAW,EAAE;IACtC;EACJ;EAEAG,eAAeA,CAAA;IACX,IAAI,CAACJ,KAAK,GAAG,MAAM;IACnB,IAAI,CAACV,KAAK,CAACe,aAAa,EAAE;IAC1B,IAAI,CAACH,SAAS,EAAE;EACpB;EAEAI,WAAWA,CAAA;IACP,IAAI,CAACL,WAAW,EAAE;EACtB;EAAC,QAAAM,CAAA,G;qBA/CQpB,wBAAwB,EAAAqB,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAE,UAAA,GAAAF,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAG,iBAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAxBzB,wBAAwB;IAAA0B,OAAA;MAAAb,KAAA;IAAA;EAAA;EAAA,QAAAc,EAAA,G;WAAxB3B,wBAAwB;IAAA4B,OAAA,EAAxB5B,wBAAwB,CAAA6B;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}